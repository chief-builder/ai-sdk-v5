@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Warm cream background - easier on aging eyes than pure white */
    --background: 40 40% 97%;        /* #FAF8F5 - warm paper */
    --foreground: 220 20% 20%;       /* #2D3142 - soft charcoal */

    /* Cards - slightly warmer than background */
    --card: 0 0% 100%;               /* white for contrast */
    --card-foreground: 220 20% 20%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 20% 20%;

    /* Friendly teal accent - trustworthy, calming, accessible */
    --primary: 175 50% 35%;          /* #2D9596 - warm teal */
    --primary-foreground: 0 0% 100%;

    /* Generous, warm grays */
    --secondary: 40 25% 94%;         /* #F5F1EB */
    --secondary-foreground: 220 20% 20%;

    --muted: 40 20% 92%;             /* #EDE8E2 */
    --muted-foreground: 220 10% 45%; /* #6B7280 */

    /* Soft coral for highlights/actions - warm, friendly */
    --accent: 15 70% 55%;            /* #E07A5F - terracotta/coral */
    --accent-foreground: 0 0% 100%;

    /* Clear red for destructive actions */
    --destructive: 0 70% 55%;        /* #DC4545 */
    --destructive-foreground: 0 0% 100%;

    /* Success state */
    --success: 160 60% 40%;          /* #29A874 - green */
    --success-foreground: 0 0% 100%;

    /* Borders and inputs */
    --border: 40 15% 85%;            /* #DDD8D0 - warm gray */
    --input: 40 15% 85%;
    --ring: 175 50% 35%;             /* teal focus ring */

    /* Chart colors */
    --chart-1: 175 50% 35%;
    --chart-2: 15 70% 55%;
    --chart-3: 160 60% 40%;
    --chart-4: 40 60% 50%;
    --chart-5: 220 20% 40%;

    --radius: 0.75rem;               /* Friendlier rounded corners */
  }

  .dark {
    /* Dark mode with warm undertones */
    --background: 220 15% 12%;       /* warm dark */
    --foreground: 40 20% 95%;        /* warm white */

    --card: 220 15% 16%;
    --card-foreground: 40 20% 95%;

    --popover: 220 15% 16%;
    --popover-foreground: 40 20% 95%;

    --primary: 175 45% 50%;          /* brighter teal for dark mode */
    --primary-foreground: 220 15% 12%;

    --secondary: 220 15% 20%;
    --secondary-foreground: 40 20% 95%;

    --muted: 220 15% 20%;
    --muted-foreground: 40 10% 65%;

    --accent: 15 65% 60%;
    --accent-foreground: 220 15% 12%;

    --destructive: 0 60% 50%;
    --destructive-foreground: 0 0% 100%;

    --success: 160 50% 50%;
    --success-foreground: 220 15% 12%;

    --border: 220 15% 25%;
    --input: 220 15% 25%;
    --ring: 175 45% 50%;

    --chart-1: 175 45% 50%;
    --chart-2: 15 65% 60%;
    --chart-3: 160 50% 50%;
    --chart-4: 40 50% 55%;
    --chart-5: 220 20% 60%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    /* Senior-friendly base font size */
    font-size: 18px;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
    line-height: 1.6;
  }

  /* Focus states - visible teal ring for accessibility */
  :focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }

  /* Respect reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

/* Markdown table styling - ensure tables can scroll horizontally */
@layer components {
  /* Streamdown table wrapper - ensure full width and scrollable */
  [data-streamdown="table-wrapper"] {
    @apply w-full max-w-full;
  }

  /* Override Streamdown's default table width to fit content */
  [data-streamdown="table"] {
    @apply min-w-full w-max;
  }
}

/* Senior-friendly utility classes */
@layer utilities {
  /* Large, readable text for responses */
  .text-readable {
    @apply text-xl leading-relaxed;
    line-height: 1.75;
  }

  /* Minimum touch target size (44x44px) */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }

  /* Large touch target for primary actions */
  .touch-target-lg {
    @apply min-h-[48px] min-w-[48px];
  }

  /* High contrast text */
  .high-contrast {
    @apply text-foreground;
  }

  /* Warm card styling */
  .card-warm {
    @apply bg-card rounded-xl shadow-sm border border-border;
  }

  /* User message styling */
  .message-user {
    @apply bg-secondary border-l-4 border-l-primary;
  }

  /* Assistant message styling */
  .message-assistant {
    @apply bg-card shadow-md;
  }
}
